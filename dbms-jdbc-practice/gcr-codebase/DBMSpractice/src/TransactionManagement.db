Exercise 2: Transaction Management
Implement a banking system with:
• Transfer money between accounts (use transactions)
• Check balance
• Transaction history

---------------------------------------------------------------------------------------------------------------

// Created two tables
mysql> CREATE TABLE accounts (
    ->     account_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     name VARCHAR(50),
    ->     balance DECIMAL(10,2)
    -> );
Query OK, 0 rows affected (0.05 sec)

mysql> CREATE TABLE transactions (
    ->     txn_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     from_account INT,
    ->     to_account INT,
    ->     amount DECIMAL(10,2),
    ->     txn_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    -> );
Query OK, 0 rows affected (0.02 sec)

mysql>
--------------------------------------------------------------------------------------------------------------

// • Transfer money between accounts (use transactions)


mysql> START TRANSACTION;
Query OK, 0 rows affected (0.00 sec)

mysql>
mysql> UPDATE accounts
    -> SET balance = balance - 2000
    -> WHERE account_id = 1;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql>
mysql> UPDATE accounts
    -> SET balance = balance + 2000
    -> WHERE account_id = 2;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql>
mysql> INSERT INTO transactions (from_account, to_account, amount)
    -> VALUES (1, 2, 2000);
Query OK, 1 row affected (0.00 sec)

mysql>
mysql> COMMIT;
Query OK, 0 rows affected (0.00 sec)

---------------------------------------------------------------------------------------------------------------

//• Check balance



mysql> SELECT name, balance FROM accounts;
+-------+----------+
| name  | balance  |
+-------+----------+
| Rahul |  8000.00 |
| Anita | 10000.00 |
+-------+----------+
2 rows in set (0.00 sec)

--------------------------------------------------------------------------------------------------------------

//• Transaction history


mysql> SELECT * FROM transactions;
+--------+--------------+------------+---------+---------------------+
| txn_id | from_account | to_account | amount  | txn_date            |
+--------+--------------+------------+---------+---------------------+
|      1 |            1 |          2 | 2000.00 | 2026-02-09 13:25:09 |
+--------+--------------+------------+---------+---------------------+
1 row in set (0.00 sec)

mysql>






